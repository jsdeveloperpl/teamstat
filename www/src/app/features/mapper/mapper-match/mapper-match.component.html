<div class="d-flex">
  <div class="d-flex flex-column flex-grow-1">
    <button
      *ngFor="let event of eventsMap"
      (click)="addEvent(event.type, 'homeTeam')"
      [class]="'m-2 btn btn-' + event.buttonStyle">{{ event.label}}</button>
    <div class="mx-2 d-flex justify-content-around">
      <div class="counter">
        <span class="badge badge-pill badge-secondary mr-1">w3</span>
        <span>{{ homeTeamW3}}</span>
      </div>
      <div class="counter">
        <span class="badge badge-pill badge-primary mr-1">ss</span>
        <span>{{ homeTeamSS }}</span>
      </div>
    </div>
  </div>
  <div class="d-flex flex-column flex-grow-1">
    <button
      *ngFor="let event of eventsMap"
      (click)="addEvent(event.type, 'awayTeam')"
      [class]="'m-2 btn btn-' + event.buttonStyle">{{ event.label}}</button>
    <div class="mx-2 mb-2 d-flex justify-content-around">
      <div>
        <span class="badge badge-pill badge-secondary mr-1">w3</span>
        <span>{{ awayTeamW3 }}</span>
      </div>
      <div>
        <span class="badge badge-pill badge-primary mr-1">ss</span>
        <span>{{ awayTeamSS }}</span>
      </div>
    </div>
  </div>
</div>
<div class="alert-primary mx-2">events feed
  <button class="btn btn-success" (click)="removeLastEvent()">B</button>
</div>
<div class="m-2 flex-grow-1 feed">
  <div class="d-flex flex-column">
    <div class="d-flex" *ngFor="let event of state.match.events$ | async">
      <div
        class="w-50 text-center"
        [class.bg-primary]="event.team === 'homeTeam' && event.type === 'chance'"
        [class.bg-secondary]="event.team === 'homeTeam' && event.type === 'w3'"
        [class.bg-info]="event.team === 'homeTeam' && event.type === 'goal'"
        [class.bg-danger]="event.team === 'homeTeam' && event.type === 'offtargetShot'"
        [class.bg-success]="event.team === 'homeTeam' && event.type === 'ontargetShot'">{{ event.team === 'homeTeam' ? event.type : ''}}</div>
      <div
        class="w-50 text-center"
        [class.bg-primary]="event.team === 'awayTeam' && event.type === 'chance'"
        [class.bg-secondary]="event.team === 'awayTeam' && event.type === 'w3'"
        [class.bg-info]="event.team === 'awayTeam' && event.type === 'goal'"
        [class.bg-danger]="event.team === 'awayTeam' && event.type === 'offtargetShot'"
        [class.bg-success]="event.team === 'awayTeam' && event.type === 'ontargetShot'">{{ event.team === 'awayTeam' ? event.type : ''}}</div>
    </div>
  </div>
</div>
<div *ngIf="state.match.isStarted$ | async" class="d-flex justify-content-around mx-2">
  <button
    *ngIf="!(state.match.isPaused$ | async) as isPaused; else resumeMatchButton"
    (click)="toggleMatchCounter(false)"
    class="btn btn-warning flex-grow-1">
    <svg class="bi bi-pause-fill" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
      <path d="M5.5 3.5A1.5 1.5 0 017 5v6a1.5 1.5 0 01-3 0V5a1.5 1.5 0 011.5-1.5zm5 0A1.5 1.5 0 0112 5v6a1.5 1.5 0 01-3 0V5a1.5 1.5 0 011.5-1.5z"/>
    </svg>
  </button>
  <p class="flex-grow-1">Time: {{ state.match.time$ | async }} </p>
  <button class="btn btn-danger flex-grow-1" (click)="finishMatch()">
    <svg class="bi bi-stop" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" d="M3.5 5A1.5 1.5 0 015 3.5h6A1.5 1.5 0 0112.5 5v6a1.5 1.5 0 01-1.5 1.5H5A1.5 1.5 0 013.5 11V5zM5 4.5a.5.5 0 00-.5.5v6a.5.5 0 00.5.5h6a.5.5 0 00.5-.5V5a.5.5 0 00-.5-.5H5z" clip-rule="evenodd"/>
    </svg>
  </button>

</div>

<ng-template #resumeMatchButton>
  <button class="btn btn-warning flex-grow-1" (click)="toggleMatchCounter(true)">
    <svg class="bi bi-play" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" d="M10.804 8L5 4.633v6.734L10.804 8zm.792-.696a.802.802 0 010 1.392l-6.363 3.692C4.713 12.69 4 12.345 4 11.692V4.308c0-.653.713-.998 1.233-.696l6.363 3.692z" clip-rule="evenodd"/>
    </svg>
  </button>
</ng-template>

